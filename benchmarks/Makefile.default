CLANG_WRAPPER = "$(LLVM_DIR)/scripts/clang_wrapper.py"

ifeq ($(NO_LTO),OK)
CC = g++
LD = $(CC)
else
CC = $(CLANG_WRAPPER)
LD = $(CC)
endif

ALL_OBJS = $(OBJS) main.o

all:	main

main :	$(ALL_OBJS)
		@$(LD) $^ -o main

%.o: 	%.cpp
		@$(CC) -c $< -o $@

clean:
		@rm -f $(ALL_OBJS) main

clean-all: clean
		@rm -f *.bc *.ll output.txt
